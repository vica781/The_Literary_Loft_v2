{% extends "base.html" %} 
{% load static %} 

{% block title %}Register - The Literary Loft{% endblock %} 

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/style.css' %}">
<link rel="stylesheet" href="{% static 'css/register.css' %}">
{% endblock %} 

{% block content %}
<div class="register-container container-fluid">
  <div class="register-form col-11 col-md-6 col-lg-4">
    <h2 class="text-center mb-4">Create account</h2>
    {% if messages %}
    <div class="messages">
        {% for message in messages %}
        <div{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</div>
        {% endfor %}
    </div>
    {% endif %}
    <form method="post" class="mb-3" id="registerForm">
      {% csrf_token %}
      <div class="form-group position-relative mb-3">
        <input
          type="text"
          class="form-control"
          id="first_name"
          name="first_name"
          placeholder="First name"
          required
        />
      </div>
      <div class="form-group position-relative mb-3">
        <input
          type="text"
          class="form-control"
          id="last_name"
          name="last_name"
          placeholder="Last name"
          required
        />
      </div>
      <div class="form-group position-relative mb-3">
        <input
          type="email"
          class="form-control"
          id="email"
          name="email"
          placeholder="Email"
          required
        />
      </div>
      <div class="form-group position-relative mb-3">
        <input
          type="password"
          class="form-control"
          id="password"
          name="password"
          placeholder="Password"
          required
        />
        <i class="fas fa-eye password-toggle" id="togglePassword"></i>
      </div>
      <div class="form-group position-relative mb-3">
        <input
          type="password"
          class="form-control"
          id="confirm_password"
          name="confirm_password"
          placeholder="Confirm password"
          required
        />
        <i class="fas fa-eye password-toggle" id="toggleConfirmPassword"></i>
      </div>
      <span id="passwordError" class="text-danger"></span>
      <div class="form-group form-check mb-3">
        <input
          type="checkbox"
          class="form-check-input"
          id="remember"
          name="remember"
        />
        <label class="form-check-label" for="remember">Remember me</label>
      </div>
      <button 
      type="submit"
      class="btn btn-primary btn-block btn-create"
      aria-label="create account">Create</button>
    </form>
    <div class="mt-3 text-center">
      <p class="mb-1">
        Already have an account? <a href="{% url 'books:login' %}"
        aria-label="login">Login</a>
      </p>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}{{ block.super }}
<script src="{% static 'js/csrf.js' %}"></script>
<script src="{% static 'js/view_password.js' %}"></script>
{% endblock %}